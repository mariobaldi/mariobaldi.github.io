---
layout: post
comments: true
# Published tag, if true, remove post from the list in the site, but you can access directly from URL
author: Mario Baldi and Marcello Maggiora
title:  Servizi distribuiti nei Data Center
draft: true
permalink: /servizi.html
---

---

<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_kq3l1xijyd9n-8>li:before{content:"\0025a0   "}.lst-kix_kq3l1xijyd9n-7>li:before{content:"\0025cb   "}.lst-kix_l2p85oer4xl3-8>li:before{content:"\0025a0   "}.lst-kix_vuvkd7wh5lks-2>li:before{content:"\0025a0   "}.lst-kix_vuvkd7wh5lks-3>li:before{content:"\0025cf   "}.lst-kix_l2p85oer4xl3-7>li:before{content:"\0025cb   "}.lst-kix_l2p85oer4xl3-6>li:before{content:"\0025cf   "}.lst-kix_vuvkd7wh5lks-4>li:before{content:"\0025cb   "}.lst-kix_vuvkd7wh5lks-0>li:before{content:"\0025cf   "}ul.lst-kix_l2p85oer4xl3-7{list-style-type:none}ul.lst-kix_l2p85oer4xl3-8{list-style-type:none}ul.lst-kix_l2p85oer4xl3-5{list-style-type:none}ul.lst-kix_l2p85oer4xl3-6{list-style-type:none}ul.lst-kix_l2p85oer4xl3-3{list-style-type:none}.lst-kix_vuvkd7wh5lks-1>li:before{content:"\0025cb   "}ul.lst-kix_l2p85oer4xl3-4{list-style-type:none}ul.lst-kix_l2p85oer4xl3-1{list-style-type:none}ul.lst-kix_l2p85oer4xl3-2{list-style-type:none}.lst-kix_l2p85oer4xl3-0>li:before{content:"\0025cf   "}.lst-kix_l2p85oer4xl3-1>li:before{content:"\0025cb   "}.lst-kix_l2p85oer4xl3-2>li:before{content:"\0025a0   "}.lst-kix_vuvkd7wh5lks-8>li:before{content:"\0025a0   "}.lst-kix_l2p85oer4xl3-4>li:before{content:"\0025cb   "}.lst-kix_vuvkd7wh5lks-6>li:before{content:"\0025cf   "}.lst-kix_vuvkd7wh5lks-7>li:before{content:"\0025cb   "}.lst-kix_l2p85oer4xl3-3>li:before{content:"\0025cf   "}.lst-kix_l2p85oer4xl3-5>li:before{content:"\0025a0   "}.lst-kix_vuvkd7wh5lks-5>li:before{content:"\0025a0   "}ul.lst-kix_l2p85oer4xl3-0{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-0{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-1{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-4{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-5{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-2{list-style-type:none}.lst-kix_9wv7quy7fzid-0>li:before{content:"-  "}ul.lst-kix_kq3l1xijyd9n-3{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-8{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-6{list-style-type:none}ul.lst-kix_kq3l1xijyd9n-7{list-style-type:none}.lst-kix_9wv7quy7fzid-1>li:before{content:"-  "}.lst-kix_kq3l1xijyd9n-6>li:before{content:"\0025cf   "}.lst-kix_9wv7quy7fzid-2>li:before{content:"-  "}.lst-kix_9wv7quy7fzid-4>li:before{content:"-  "}.lst-kix_kq3l1xijyd9n-5>li:before{content:"\0025a0   "}.lst-kix_9wv7quy7fzid-3>li:before{content:"-  "}.lst-kix_kq3l1xijyd9n-2>li:before{content:"\0025a0   "}ul.lst-kix_9wv7quy7fzid-5{list-style-type:none}ul.lst-kix_9wv7quy7fzid-6{list-style-type:none}ul.lst-kix_9wv7quy7fzid-7{list-style-type:none}.lst-kix_9wv7quy7fzid-6>li:before{content:"-  "}ul.lst-kix_9wv7quy7fzid-8{list-style-type:none}.lst-kix_kq3l1xijyd9n-4>li:before{content:"\0025cb   "}ul.lst-kix_9wv7quy7fzid-1{list-style-type:none}ul.lst-kix_9wv7quy7fzid-2{list-style-type:none}.lst-kix_kq3l1xijyd9n-3>li:before{content:"\0025cf   "}ul.lst-kix_9wv7quy7fzid-3{list-style-type:none}ul.lst-kix_9wv7quy7fzid-4{list-style-type:none}.lst-kix_9wv7quy7fzid-5>li:before{content:"-  "}ul.lst-kix_9wv7quy7fzid-0{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-1{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-0{list-style-type:none}.lst-kix_kq3l1xijyd9n-1>li:before{content:"\0025cb   "}.lst-kix_9wv7quy7fzid-7>li:before{content:"-  "}ul.lst-kix_vuvkd7wh5lks-5{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-4{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-3{list-style-type:none}.lst-kix_9wv7quy7fzid-8>li:before{content:"-  "}ul.lst-kix_vuvkd7wh5lks-2{list-style-type:none}.lst-kix_kq3l1xijyd9n-0>li:before{content:"\0025cf   "}ul.lst-kix_vuvkd7wh5lks-8{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-7{list-style-type:none}ul.lst-kix_vuvkd7wh5lks-6{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c5{background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:"Arial";font-style:normal}.c1{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify;height:12pt}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c10{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c26{color:#000000;font-weight:400;text-decoration:none;vertical-align:super;font-size:14pt;font-family:"Arial";font-style:normal}.c4{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c6{padding-top:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c20{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{padding-top:0pt;padding-bottom:10pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c18{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c17{background-color:#ffffff;vertical-align:super;font-size:10.5pt}.c21{color:inherit;text-decoration:inherit}.c8{margin-left:36pt;padding-left:0pt}.c19{font-size:16pt;font-weight:700}.c16{padding:0;margin:0}.c23{width:33%;height:1px}.c25{background-color:#ffffff;font-size:10.5pt}.c22{font-size:20pt}.c0{font-style:italic}.c9{font-size:10pt}.c15{height:12pt}.c24{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:12pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:12pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c18"><p class="c12"><span class="c19"></span></p><p class="c12"><span class="c10">Mario Baldi and Marcello Maggiora</span></p><p class="c3 c15"><span class="c26"></span></p><p class="c11"><span class="c2"></span></p><p class="c13"><span>1984 Massachusetts, il direttore e fondatore dei MediaLab del </span><span><a class="c21" href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Massachusetts_Institute_of_Technology&amp;sa=D&amp;ust=1594688553029000&amp;usg=AOvVaw3TaImHdC2LLV2izIMcVEK9">Massachusetts Institute of Technology </a></span><span class="c2">(MIT), Nicolas Negroponte, durante una conferenza, sostenne &nbsp;che si poteva utilizzare il dito come puntatore al posto dell&rsquo;ormai classico mouse mostrando in anteprima il funzionamento di uno schermo touch. Il primo iPhone, che ha portato la tecnologia touch a cambiare radicalmente il mondo di utilizzare i dispositivi, risale al 2007.</span></p><p class="c13"><span class="c2">2004 Silicon Valley, California. Brice Clark, all&rsquo;epoca responsabile worldwide della strategia del settore networking di Hewlett Packard, durante un Vision Talk sostenne che gli elaboratori sarebbero diventati una specie di &lsquo;connettori&rsquo; di risorse poste nella rete, con sistemi operativi e funzionalit&agrave; pensate per essere utilizzate immersi nella rete. Un modello questo oggi reale, pensiamo al mondo applicativo in cloud e agli elaboratori nati per il cloud come il Chromebook.</span></p><p class="c13"><span class="c2">Gli esempi in questo senso potrebbero essere molti, le idee e le tecnologie che nascono nei centri di ricerca e nelle universit&agrave; a volte impiegano molto tempo per conquistare la consistenza necessaria e incidere significativamente nelle attivit&agrave; e nelle abitudini delle persone. </span></p><p class="c11"><span class="c2"></span></p><p class="c13"><span class="c2">Oggi siamo pronti perci&ograve; a vedere decollare idee e soluzioni che da una decina di anni sollecitano l&rsquo;interesse di molti osservatori e hanno raggiunto un livello di maturit&agrave; tale da essere pronte per atterrare sul tavolo dei responsabili IT. Dai dati che possiamo osservare emergono due tendenze che hanno gi&agrave; conquistato un certo spazio e che potrebbero diventare il modello di riferimento. </span></p><p class="c11"><span class="c2"></span></p><p class="c13"><span>La prima riguarda </span><span class="c0">l&rsquo;intelligenza</span><span>&nbsp;delle infrastrutture ICT che sta lentamente, ma inesorabilmente, spostandosi dall&rsquo;hardware al software. Un processo questo nato con la virtualizzazione, la cui diffusione ed evoluzione a poco a poco ha mostrato quanto fosse pi&ugrave; rapido e </span><span class="c0">facile</span><span class="c2">&nbsp;modificare parti di infrastruttura agendo su una configurazione software piuttosto che mettendo mano direttamente ad apparati e sistemi dell&rsquo;infrastruttura fisica.</span></p><p class="c11"><span class="c2"></span></p><p class="c13"><span>Oggi infatti le varie declinazioni di </span><span class="c0">Software Defined</span><span class="c2">&nbsp;toccano praticamente ogni componente infrastrutturale, dal network al data center. Il futuro vedr&agrave; una grande diffusione di queste soluzioni e sar&agrave; sempre pi&ugrave; software. Questo approccio porter&agrave; pi&ugrave; flessibilit&agrave;, pi&ugrave; rapidit&agrave; e forse anche qualche nuova preoccupazione.</span></p><p class="c13"><span class="c2">La seconda tendenza riguarda il traffico IP che in generale sta crescendo costantemente in modo significativo. Il traffico IP, secondo l&rsquo;Equinix Global Interconnection Index 2019, nel 2018 era di 2.500 Tbps globali e crescer&agrave; fino a oltre 13.000 Tbps nel 2022. Va sottolineato che queste proiezioni sono del 2019 e quindi non considerano l&rsquo;effetto COVID-19.</span></p><p class="c13"><span class="c2">Poich&eacute; vogliamo approfondire il legame tra traffico IP e le soluzioni Software Defined, osserviamo come &egrave; composto il traffico all&rsquo;interno del data center. </span></p><p class="c13"><span>Emerge che quasi l&rsquo;80% del traffico IP &egrave; ascrivibile alla direzione est-ovest, cio&egrave; al traffico interno al data center, seguito a distanza dal traffico &ldquo;Data Center-Utente&rdquo; 14% e infine il traffico &ldquo;</span><span>Data Cente</span><span class="c2">r-Data Center&rdquo; circa il 9% (vedi Fig. 1). Al di l&agrave; delle percentuali specifiche &egrave; un dato condiviso che la maggior parte del traffico IP non esce dal data center e questo pone delle problematiche non marginali nell&rsquo;implementazione di servizi distribuiti basati su soluzioni software.</span></p><p class="c11"><span class="c2"></span></p><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 406.03px; height: 273.84px;"><img alt="" src="/images/image4.png" style="width: 406.03px; height: 273.84px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c12 c15"><span class="c20 c9"></span></p><p class="c12"><span class="c9">Fig. 1 &ndash; Data Center, composizione del traffico IP (fonte Cisco </span><span class="c9">Systems</span><span class="c20 c9">)</span></p><p class="c11"><span class="c2"></span></p><p class="c11"><span class="c2"></span></p><p class="c13" id="h.gjdgxs"><span>Per approfondire il problema entriamo pi&ugrave; nel dettaglio delle funzioni e delle caratteristiche nel principale concentratore di complessit&agrave; e tecnologia, il data center.</span></p><p class="c11" id="h.acu2bvu0uw7m"><span class="c2"></span></p><p class="c6"><span class="c2">Lo scopo ultimo di un data center &egrave; quello di ospitare calcolatori che eseguono applicazioni fruibili dagli utenti finali e che producono guadagni. Tuttavia, il data center deve anche offrire funzionalit&agrave; essenziali alla fruizione di tali applicazioni, tra cui la connettivit&agrave; di rete, servizi aggiunti di rete (quali NAT o network address translation, bilanciamento di traffico), servizi legati alla sicurezza (quali filtraggio o firewalling, identificazione e prevenzione delle intrusioni), servizi legati al salvataggio su disco (dischi condivisi e disaggregazione della memoria di massa), e servizi legati alla visibilit&agrave; (raccolta di informazioni di telemetria, cattura e analisi di traffico).</span></p><p class="c6"><span>Tradizionalmente i servizi sopra elencati vengono erogati da </span><span class="c0">&ldquo;appliance&rdquo; centralizzate </span><span>posizionate all&rsquo;interno della rete del data center, eventualmente eseguite dagli apparati di rete stessi. Ovviamente, &egrave; fondamentale che il traffico che deve ricevere un certo servizio venga fatto transitare attraverso la appliance che lo eroga. Questo &egrave; relativamente semplice per servizi da applicare al traffico cosiddetto nord-sud</span><sup><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup><span class="c2">, cio&egrave; che viene scambiato con Internet in ingresso ed uscita perch&eacute;, come rappresentato graficamente in Fig. 2, questo transita per un punto di passaggio obbligato che &egrave; il collegamento con l&rsquo;esterno. </span></p><p class="c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 313.50px; height: 347.44px;"><img alt="" src="/images/image2.png" style="width: 313.50px; height: 347.44px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7"><span class="c20 c9">Fig 2 &ndash; Schema con topologia Clos e percorso del traffico Nord-Sud </span></p><p class="c7 c15"><span class="c20 c9"></span></p><p class="c6"><span class="c2">La questione &egrave; invece pi&ugrave; complicata per il traffico interno al data center, colloquialmente indicato come est-ovest. Infatti la rete dei data center moderni viene progettata usando la topologia Clos che offre una moltitudine di percorsi identici tra una qualsiasi coppia di stazioni non collegate allo stesso nodo di rete. Tali percorsi vengono sfruttati per aumentare la capacit&agrave; di trasferire traffico tra gli host distribuendo il traffico in modo il pi&ugrave; possibile uniforme su ognuno di essi con la tecnica nota come ECMP (Equal Cost Multi-Path) routing. </span></p><p class="c6"><span class="c2">Dal punto di vista dell&rsquo;erogazione di servizi, questo significa che non esiste un unico punto attraverso cui passa il traffico dove posizionare le appliance. E non si vuole certo progettare la rete in modo da creare un tale punto di passaggio perch&eacute;, vista l&rsquo;elevata quantit&agrave; di traffico est-ovest, esso costituirebbe uno strozzamento della rete (comunemente indicato come bottleneck o collo di bottiglia) che porrebbe un limite alle prestazioni. Dunque, l&rsquo;unica possibilit&agrave; &egrave; quella di alterare il normale percorso del traffico per farlo passare attraverso le appliance che lo debbono elaborare, dovunque queste siano collegate nella rete (operazione comunemente chiamata traffic steering o traffic stitching), come mostrato in Fig. 3. Invece che seguire il percorso ottimale verde, il traffico viene &ldquo;dirottato&rdquo; verso l&rsquo;appliance lungo il percorso rosso. Questo ha implicazioni sia sulla complessit&agrave; dell&rsquo;architettura protocollare di rete, sia sulle prestazioni.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 238.67px;"><img alt="" src="/images/image1.png" style="width: 624.00px; height: 238.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7"><span class="c20 c9">Fig 3 &ndash; Traffic steering: invece che seguire il percorso ottimale verde, il traffico viene forzato verso il percorso rosso</span></p><p class="c6 c15"><span class="c2"></span></p><ul class="c16 lst-kix_l2p85oer4xl3-0 start"><li class="c6 c8"><span>Esistono</span><span class="c2">&nbsp;due opzioni comunemente utilizzate per realizzare il traffic steering verso appliance (si veda [1] per una spiegazione pi&ugrave; dettagliata): </span></li></ul><ul class="c16 lst-kix_l2p85oer4xl3-1 start"><li class="c1"><span>l&rsquo;uso di router che supportano tabelle di routing multiple, una tecnologia comunemente indicata come </span><span class="c0">VRF </span><span class="c2">o Virtual Routing and Forwarding;</span></li><li class="c1"><span>la creazione di vari domini di livello 2 in un </span><span class="c0">overlay </span><span class="c2">al di sopra della interconnettivit&agrave; di livello 3 fornita dai nodi della rete Clos. </span></li></ul><p class="c6 c24"><span class="c2">Entrambe rappresentano una complessit&agrave; aggiuntiva nella configurazione, gestione e ricerca guasti della rete. </span></p><ul class="c16 lst-kix_l2p85oer4xl3-0"><li class="c6 c8"><span>D&rsquo;altro canto, su una topologia Clos far prima raggiungere al traffico l&rsquo;appliance e poi farlo andare verso un calcolatore implica attraversare due volte gli apparati di dorsale (spine) e l&rsquo;interconnessione tra essi e le foglie (leaf), creando quello che &egrave; comunemente noto come </span><span class="c0">effetto trombone </span><span class="c2">(perch&eacute; il percorso nella rete ricorda la forma dello strumento musicale, come si vede in Fig. 3). </span></li></ul><ul class="c16 lst-kix_l2p85oer4xl3-1 start"><li class="c1"><span>Come chiaramente visibile confrontando il percorso rosso con quello verde in Fig 3, questo implica duplicare (o </span><span class="c0">moltiplicare </span><span class="c2">per N quando si debbano attraversare N appliance) il traffico sulla rete, cosa che &egrave; particolarmente critica considerando i volumi estremamente elevati di traffico est-ovest. </span></li><li class="c1"><span>Dovendo attraversare pi&ugrave; apparati di rete, il percorso rosso &egrave; soggetto ad un </span><span class="c0">aumento di latenza e jitter </span><span class="c2">(variazione della latenza) rispetto a quello verde. Questo &egrave; particolarmente critico per la comunicazione tra i vari stadi delle applicazioni web che si aspettano latenze molto basse e deterministiche e che praticamente generano la totalit&agrave; del traffico est-ovest.</span></li></ul><p class="c6"><span class="c2">In aggiunta a tutti questi svantaggi, per molti dei servizi che si vogliono offrire &egrave; praticamente impossibile (o estremamente costo) realizzare appliance con le tecnologie attualmente disponibili che siano in grado di sostenere i volumi tipici del traffico est-ovest. Per ovviare a questo problema si pu&ograve; pensare di avere pi&ugrave; istanze di ogni appliance e distribuire il traffico tra di esse, ma questo complica ulteriormente il routing nella rete ed ha implicazioni sulla condivisione delle stato tra le varie istanze di appliance che realizzano servizi che richiedono memoria storica.</span></p><p class="c6"><span>L&rsquo;unica soluzione per superare tutti questi svantaggi &egrave; quella di erogare i servizi in modo </span><span class="c0">distribuito </span><span>(</span><span class="c2">invece che tramite appliance discrete) in modo che ogni pacchetto incontri il servizio su qualsiasi percorso esso segua verso la propria destinazione in base al normale routing. Questo pu&ograve; essere fatto in due modi differenti, che possono eventualmente essere combinati.</span></p><ul class="c16 lst-kix_vuvkd7wh5lks-0 start"><li class="c6 c8"><span class="c0">Nodi di rete</span><span class="c2">: creando un servizio distribuito in tutti i nodi di accesso (leaf) si ha la certezza che qualsiasi pacchetto entri nella rete possa ricevere il servizio.</span></li><li class="c6 c8"><span class="c0">Calcolatori</span><span class="c2">: realizzando un servizio in modo distribuito all&rsquo;interno di tutti i calcolatori nel data center il traffico pu&ograve; ricevere il servizio quando viene generato o ricevuto.</span></li></ul><p class="c6"><span class="c2">Le due soluzioni hanno molti punti in comune e la principale differenza &egrave; il livello di distribuzione. Nel caso si utilizzino nodi di rete il livello di distribuzione &egrave; minore che se si utilizzano i calcolatori. Un maggiore livello di distribuzione corrisponde ad una maggiore complessit&agrave; di gestione, ma d&rsquo;altro canto ad una migliore capacit&agrave; di sopportare la crescita di traffico dovuta ad un aumento della dimensione del data center. In particolare, se un servizio viene realizzato all&rsquo;interno dei calcolatori, aumentandone il numero incrementa proporzionalmente il livello di distribuzione del servizio, quindi la quantit&agrave; di risorse disponibili per l&rsquo;esecuzione del servizio.</span></p><p class="c6"><span class="c2">Va per&ograve; tenuto presente che il ruolo principale sia dei calcolatori, sia dei nodi di rete non &egrave; quello dell&rsquo;erogazione dei servizi, ma rispettivamente l&rsquo;esecuzione delle applicazioni per cui il data center &egrave; stato realizzato e la fornitura della necessaria connettivit&agrave;. Dunque &egrave; bene che le risorse disponibili in termini di memoria e processore vengano dedicate a tali funzionalit&agrave;, mentre idealmente i servizi possono essere erogati da hardware specializzato installato sui dispositivi.</span></p><p class="c6"><span class="c2">Questo &egrave; per l&rsquo;appunto l&rsquo;approccio seguito da Pensando Systems che ha progettato un circuito integrato appositamente per l&rsquo;esecuzione di servizi (ASIC - application specific integrated circuit). La prima linea di prodotto basata su questo circuito integrato &egrave; una scheda per calcolatore chiamata Distributed Services Card (DSC). Questa scheda ha un&rsquo;interfaccia PCIe e due interfacce Ethernet, quindi pu&ograve; essere utilizzata in un calcolatore al posto di una normale scheda Ethernet. Per&ograve; siccome l&rsquo;ASIC include sia processori generici (core ARM), sia processori specializzati nell&rsquo;elaborazione di pacchetti programmabili tramite il linguaggio P4 (Programming Protocol-independent Packet Processors) [3,4], pu&ograve; essere programmato per realizzare servizi aggiuntivi che si vengono cos&igrave; a trovare sul percorso dei pacchetti in ingresso e in uscita dai server. L&rsquo;architettura [2] &egrave; progettata in modo da garantire l&rsquo;esecuzione di funzionalit&agrave; complesse alla velocit&agrave; di linea delle due interfacce Ethernet cos&igrave; che l&rsquo;inserzione dei servizi non causi un abbassamento delle prestazioni. Visto che l&rsquo;esecuzione di questi servizi avviene esclusivamente sulla scheda, le risorse del calcolatore non vengono coinvolte e possono essere completamente dedicate alle applicazioni &ldquo;paganti&rdquo;.</span></p><p class="c6"><span>L&rsquo;unica problematica tra quelle elencate in precedenza che rimane aperta &egrave; la complessit&agrave; del configurare servizi con un elevato livello di distribuzione e mantenerne sotto controllo l&rsquo;esecuzione. Nella piattaforma di Pensando questo &egrave; risolto dal Policy and Services Manager (PSM o gestore di politiche e servizi) che offre un unico punto di configurazione e controllo dei servizi per l&rsquo;utente che pu&ograve; esprimere quello che i servizi erogati dalle varie DSC devono ottenere. Il PSM seguendo un paradigma </span><span class="c0">intent-based </span><span class="c2">si occupa in modo indipendente di configurare opportunamente ognuna delle DSC coinvolte. Se nuove DSC vengono attivate, sono automaticamente configurate in modo coerente con le altre cos&igrave; che i servizi vengano erogati anche da queste. </span></p><p class="c6"><span>In sintesi, come mostrato nella seguente figura, le politiche di rete, sicurezza e storage sono specificate sulla PSM come se i servizi corrispondenti fossero erogati in modo centralizzato, senza cio&egrave; preoccuparsi del fatto che tali politiche siano imposte da un elevato numero di DSC alla frontiera tra la rete e i calcolatori, in modo altamente distribuito. Questo garantisce alla piattaforma la stessa capacit&agrave; di espansione del data center stesso: pi&ugrave; calcolatori si installano, pi&ugrave; risorse diventano disponibili non solo per l&rsquo;esecuzione delle applicazioni, ma anche per i servizi. Nello stesso tempo la PSM raccoglie informazioni di telemetria molto ricche dalle DSC, sia sullo stato delle risorse delle schede, sia sul traffico di rete, e fornisce all&rsquo;utente una visione aggiornata e globale dello stato della piattaforma, dei servizi e della rete.</span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 275.70px;"><img alt="" src="/images/image3.png" style="width: 624.00px; height: 275.70px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span class="c2">Fig. 4 - La piattaforma di Pensando per la distribuzione dei servizi alla periferia dei data center</span></p><p class="c6"><span class="c2">Il posizionamento della DSC nei calcolatori e l&rsquo;architettura dell&rsquo;ASIC su cui &egrave; basata la rendono adatta a svariati casi d&rsquo;uso, come per esempio</span></p><ul class="c16 lst-kix_kq3l1xijyd9n-0 start"><li class="c6 c8"><span>la presa in carico (</span><span class="c0">off-load</span><span class="c2">) di funzionalit&agrave; tipicamente realizzate (con significativo impegno di risorse di calcolo) dal processore dei calcolatori, come la (de)cirfratura e/o (de)compressione dei dati, la segmentazione e il riassemblaggio dei messaggi TCP, la terminazione delle sessioni TLS (Transport Layer Security);</span></li><li class="c6 c8"><span class="c2">la virtualizzazione di dischi remoti tramite soluzioni quali NVMe-oF (Non Volatile Memory express over Fabric);</span></li><li class="c6 c8"><span class="c2">la microsegmentazione, cio&egrave; la possibilit&agrave; di introdurre politiche di sicurezza che limitano la connettivit&agrave; a livello di singolo &ldquo;workload&rdquo; nel data center, sia esso stazione, o macchina virtuale, o container, senza richiedere la redirezione del traffico che risulta nell&rsquo;effetto trombone e gli svantaggi che ne derivano.</span></li></ul><h1 class="c4" id="h.84rh6rgk6jdd"><span class="c20 c22">Riferimenti bibliografici</span></h1><p class="c6"><span class="c5">[1] M. Baldi, S. Gai, &ldquo;Traffic Tromboning: Why, What, Where, How, and How Not,&rdquo; blog post, https://blog.baldi.info/trombone, June 2020.</span></p><p class="c6"><span class="c5">[2] M. Baldi, D. Crupnicoff, S. Gai, &quot;Programmable Dataplane Architecture for Distributed Services at the Network Edge,&quot; 7th IEEE International Conference on Software Defined Systems (SDS2020), Paris, France. July 2020.</span></p><p class="c6"><span class="c5">[3] Pat Bosshart, Dan Daly, Glen Gibb, Martin Izzard, Nick McKeown, Jennifer Rexford, Cole Schlesinger, Dan Talayco, Amin Vahdat, George Varghese, and David Walker. Programming protocol-independent packet processors. In ACM SIGCOMM Computer Communications Review (CCR), volume 44, July 2014.</span></p><p class="c6"><span class="c25">[4] P4.org. P4</span><span class="c17">16</span><span class="c5">&nbsp;language specification. https://github.com/p4lang/p4-spec/tree/master/p4-16/spec, May 2017.</span></p><hr class="c23"><div><p class="c3"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c9">&nbsp;</span><span>Il nome deriva dal modo in cui viene normalmente disegnata la topologia della rete di un data center (si vedano Fig. 2 e Fig. 3) con i calcolatori in basso, cio&egrave; a sud, e il collegamento a Internet in alto, cio&egrave; a nord.</span></p></div></body></html>
